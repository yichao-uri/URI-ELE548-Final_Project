-- ==============================================================
-- RTL generated by Vitis HLS - High-Level Synthesis from C, C++ and OpenCL v2022.2 (64-bit)
-- Version: 2022.2
-- Copyright (C) Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
-- 
-- ===========================================================

library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

entity RBM_double_buffer is
port (
    ap_clk : IN STD_LOGIC;
    ap_rst : IN STD_LOGIC;
    ap_start : IN STD_LOGIC;
    ap_done : OUT STD_LOGIC;
    ap_continue : IN STD_LOGIC;
    ap_idle : OUT STD_LOGIC;
    ap_ready : OUT STD_LOGIC;
    stream_vector_in_TVALID : IN STD_LOGIC;
    vector_in_len_ch176_dout : IN STD_LOGIC_VECTOR (11 downto 0);
    vector_in_len_ch176_num_data_valid : IN STD_LOGIC_VECTOR (7 downto 0);
    vector_in_len_ch176_fifo_cap : IN STD_LOGIC_VECTOR (7 downto 0);
    vector_in_len_ch176_empty_n : IN STD_LOGIC;
    vector_in_len_ch176_read : OUT STD_LOGIC;
    control_ch173_dout : IN STD_LOGIC_VECTOR (7 downto 0);
    control_ch173_num_data_valid : IN STD_LOGIC_VECTOR (7 downto 0);
    control_ch173_fifo_cap : IN STD_LOGIC_VECTOR (7 downto 0);
    control_ch173_empty_n : IN STD_LOGIC;
    control_ch173_read : OUT STD_LOGIC;
    buffer_out_din : OUT STD_LOGIC_VECTOR (20 downto 0);
    buffer_out_num_data_valid : IN STD_LOGIC_VECTOR (10 downto 0);
    buffer_out_fifo_cap : IN STD_LOGIC_VECTOR (10 downto 0);
    buffer_out_full_n : IN STD_LOGIC;
    buffer_out_write : OUT STD_LOGIC;
    stream_vector_in_TDATA : IN STD_LOGIC_VECTOR (31 downto 0);
    stream_vector_in_TREADY : OUT STD_LOGIC );
end;


architecture behav of RBM_double_buffer is 
    constant ap_const_logic_1 : STD_LOGIC := '1';
    constant ap_const_logic_0 : STD_LOGIC := '0';
    constant ap_ST_iter0_fsm_state1 : STD_LOGIC_VECTOR (0 downto 0) := "1";
    constant ap_ST_iter1_fsm_state2 : STD_LOGIC_VECTOR (1 downto 0) := "10";
    constant ap_ST_iter2_fsm_state3 : STD_LOGIC_VECTOR (1 downto 0) := "10";
    constant ap_ST_iter1_fsm_state0 : STD_LOGIC_VECTOR (1 downto 0) := "01";
    constant ap_ST_iter2_fsm_state0 : STD_LOGIC_VECTOR (1 downto 0) := "01";
    constant ap_const_lv32_0 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000000";
    constant ap_const_boolean_1 : BOOLEAN := true;
    constant ap_const_lv1_0 : STD_LOGIC_VECTOR (0 downto 0) := "0";
    constant ap_const_lv8_4 : STD_LOGIC_VECTOR (7 downto 0) := "00000100";
    constant ap_const_lv1_1 : STD_LOGIC_VECTOR (0 downto 0) := "1";
    constant ap_const_lv8_1 : STD_LOGIC_VECTOR (7 downto 0) := "00000001";
    constant ap_const_lv32_1 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000001";
    constant ap_const_lv8_0 : STD_LOGIC_VECTOR (7 downto 0) := "00000000";
    constant ap_const_lv64_1 : STD_LOGIC_VECTOR (63 downto 0) := "0000000000000000000000000000000000000000000000000000000000000001";
    constant ap_const_lv32_10 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000010000";
    constant ap_const_lv16_1 : STD_LOGIC_VECTOR (15 downto 0) := "0000000000000001";
    constant ap_const_lv32_F : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000001111";
    constant ap_const_lv15_1 : STD_LOGIC_VECTOR (14 downto 0) := "000000000000001";
    constant ap_const_lv2_3 : STD_LOGIC_VECTOR (1 downto 0) := "11";
    constant ap_const_lv2_0 : STD_LOGIC_VECTOR (1 downto 0) := "00";
    constant ap_const_lv12_FFF : STD_LOGIC_VECTOR (11 downto 0) := "111111111111";
    constant ap_const_lv3_0 : STD_LOGIC_VECTOR (2 downto 0) := "000";
    constant ap_const_lv15_0 : STD_LOGIC_VECTOR (14 downto 0) := "000000000000000";
    constant ap_const_lv7_0 : STD_LOGIC_VECTOR (6 downto 0) := "0000000";
    constant ap_const_lv64_8 : STD_LOGIC_VECTOR (63 downto 0) := "0000000000000000000000000000000000000000000000000000000000001000";
    constant ap_const_lv64_10 : STD_LOGIC_VECTOR (63 downto 0) := "0000000000000000000000000000000000000000000000000000000000010000";
    constant ap_const_lv64_18 : STD_LOGIC_VECTOR (63 downto 0) := "0000000000000000000000000000000000000000000000000000000000011000";
    constant ap_const_lv64_20 : STD_LOGIC_VECTOR (63 downto 0) := "0000000000000000000000000000000000000000000000000000000000100000";
    constant ap_const_lv32_30 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000110000";
    constant ap_const_lv32_3F : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000111111";
    constant ap_const_lv21_1 : STD_LOGIC_VECTOR (20 downto 0) := "000000000000000000001";
    constant ap_const_lv32_4 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000100";
    constant ap_const_lv32_5 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000101";
    constant ap_const_lv32_14 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000010100";
    constant ap_const_lv32_3 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000011";

attribute shreg_extract : string;
    signal ap_CS_iter0_fsm : STD_LOGIC_VECTOR (0 downto 0) := "1";
    signal ap_CS_iter0_fsm_state1 : STD_LOGIC;
    signal ap_CS_iter1_fsm : STD_LOGIC_VECTOR (1 downto 0) := "01";
    signal ap_CS_iter1_fsm_state0 : STD_LOGIC;
    signal ap_CS_iter2_fsm : STD_LOGIC_VECTOR (1 downto 0) := "01";
    signal ap_CS_iter2_fsm_state0 : STD_LOGIC;
    signal tmp_nbreadreq_fu_174_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal and_ln143_fu_365_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_predicate_op29_read_state1 : BOOLEAN;
    signal tmp_s_nbreadreq_fu_196_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_predicate_op116_read_state1 : BOOLEAN;
    signal ap_done_reg : STD_LOGIC := '0';
    signal ap_block_state1_pp0_stage0_iter0 : BOOLEAN;
    signal buffer_0_full_n : STD_LOGIC;
    signal buffer_0_write : STD_LOGIC;
    signal tmp_reg_960 : STD_LOGIC_VECTOR (0 downto 0);
    signal control_V_1_load_reg_964 : STD_LOGIC_VECTOR (7 downto 0);
    signal and_ln143_reg_968 : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer_write_select_load_reg_991 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_predicate_op128_write_state2 : BOOLEAN;
    signal buffer_1_full_n : STD_LOGIC;
    signal buffer_1_write : STD_LOGIC;
    signal ap_predicate_op129_write_state2 : BOOLEAN;
    signal ap_block_state2_pp0_stage0_iter1 : BOOLEAN;
    signal ap_CS_iter1_fsm_state2 : STD_LOGIC;
    signal tmp_reg_960_pp0_iter1_reg : STD_LOGIC_VECTOR (0 downto 0);
    signal control_V_1_load_reg_964_pp0_iter1_reg : STD_LOGIC_VECTOR (7 downto 0);
    signal buffer_data_read_valid_load_reg_972 : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer_data_read_valid_load_reg_972_pp0_iter1_reg : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_predicate_op142_write_state3 : BOOLEAN;
    signal buffer_1_dout : STD_LOGIC_VECTOR (20 downto 0);
    signal buffer_1_empty_n : STD_LOGIC;
    signal buffer_1_read : STD_LOGIC;
    signal buffer0_read_en_load_reg_1000 : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer0_read_en_load_reg_1000_pp0_iter1_reg : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer1_read_en_load_reg_1004 : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer1_read_en_load_reg_1004_pp0_iter1_reg : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_predicate_op144_read_state3 : BOOLEAN;
    signal buffer_0_dout : STD_LOGIC_VECTOR (20 downto 0);
    signal buffer_0_empty_n : STD_LOGIC;
    signal buffer_0_read : STD_LOGIC;
    signal ap_predicate_op151_read_state3 : BOOLEAN;
    signal ap_block_state3_pp0_stage0_iter2 : BOOLEAN;
    signal ap_CS_iter2_fsm_state3 : STD_LOGIC;
    signal control_V_1 : STD_LOGIC_VECTOR (7 downto 0) := "00000000";
    signal vector_in_length_V_1 : STD_LOGIC_VECTOR (11 downto 0) := "000000000000";
    signal vector_in_length_minus_1_V : STD_LOGIC_VECTOR (11 downto 0) := "000000000000";
    signal buffer_write_en : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal buffer_data_read_valid : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal buffer_data_read_first_data : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal buffer_data_read_last_data : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal buffer_data_read_axis_last : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal buffer_data_read_pad_zero : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal buffer_data_read_data_V : STD_LOGIC_VECTOR (15 downto 0) := "0000000000000000";
    signal buffer_write_select : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal buffer0_read_en : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_4 : STD_LOGIC_VECTOR (15 downto 0) := "0000000000000000";
    signal double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_5 : STD_LOGIC_VECTOR (15 downto 0) := "0000000000000000";
    signal buffer1_read_en : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_2 : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_3 : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_1 : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal control_ch173_blk_n : STD_LOGIC;
    signal vector_in_len_ch176_blk_n : STD_LOGIC;
    signal stream_vector_in_TDATA_blk_n : STD_LOGIC;
    signal buffer_out_blk_n : STD_LOGIC;
    signal buffer_data_read_valid_load_load_fu_371_p1 : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer_data_read_first_data_load_reg_976 : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer_data_read_first_data_load_reg_976_pp0_iter1_reg : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer_data_read_last_data_load_reg_981 : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer_data_read_last_data_load_reg_981_pp0_iter1_reg : STD_LOGIC_VECTOR (0 downto 0);
    signal stream_data_v_data_V_fu_383_p1 : STD_LOGIC_VECTOR (15 downto 0);
    signal stream_data_v_data_V_reg_986 : STD_LOGIC_VECTOR (15 downto 0);
    signal buffer_write_select_load_load_fu_387_p1 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_204_reg_995 : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer0_read_en_load_load_fu_399_p1 : STD_LOGIC_VECTOR (0 downto 0);
    signal buffer1_read_en_load_load_fu_411_p1 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_i_op_assign_2_phi_fu_248_p6 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_reg_pp0_iter0_i_op_assign_2_reg_245 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_i_op_assign_phi_fu_262_p6 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_reg_pp0_iter0_i_op_assign_reg_259 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_i_op_assign_3_phi_fu_276_p6 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_reg_pp0_iter0_i_op_assign_3_reg_273 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_i_op_assign_1_phi_fu_290_p6 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_reg_pp0_iter0_i_op_assign_1_reg_287 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_phi_fu_304_p6 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_reg_301 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln1031_fu_497_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln1039_fu_535_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_phi_fu_317_p6 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_reg_314 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_phi_fu_330_p6 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_reg_327 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln1031_1_fu_553_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln1039_1_fu_591_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_phi_fu_343_p6 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_reg_340 : STD_LOGIC_VECTOR (0 downto 0);
    signal add_ln186_fu_725_p2 : STD_LOGIC_VECTOR (11 downto 0);
    signal or_ln214_fu_609_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln1019_2_fu_431_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln1019_fu_465_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln1019_3_fu_443_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln1019_1_fu_477_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal and_ln215_fu_627_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal add_ln223_fu_673_p2 : STD_LOGIC_VECTOR (15 downto 0);
    signal add_ln225_fu_707_p2 : STD_LOGIC_VECTOR (15 downto 0);
    signal tmp_3_nbreadreq_fu_182_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal p_s_fu_743_p5 : STD_LOGIC_VECTOR (20 downto 0);
    signal zext_ln1019_1_fu_427_p1 : STD_LOGIC_VECTOR (15 downto 0);
    signal zext_ln1019_fu_461_p1 : STD_LOGIC_VECTOR (15 downto 0);
    signal zext_ln1031_fu_493_p1 : STD_LOGIC_VECTOR (15 downto 0);
    signal tmp_209_fu_525_p4 : STD_LOGIC_VECTOR (14 downto 0);
    signal tmp_210_fu_581_p4 : STD_LOGIC_VECTOR (14 downto 0);
    signal xor_ln215_fu_621_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal select_ln1496_fu_655_p3 : STD_LOGIC_VECTOR (1 downto 0);
    signal zext_ln1627_fu_651_p1 : STD_LOGIC_VECTOR (1 downto 0);
    signal add_ln1496_fu_663_p2 : STD_LOGIC_VECTOR (1 downto 0);
    signal sext_ln223_fu_669_p1 : STD_LOGIC_VECTOR (15 downto 0);
    signal select_ln1496_1_fu_689_p3 : STD_LOGIC_VECTOR (1 downto 0);
    signal zext_ln1627_1_fu_685_p1 : STD_LOGIC_VECTOR (1 downto 0);
    signal add_ln1496_1_fu_697_p2 : STD_LOGIC_VECTOR (1 downto 0);
    signal sext_ln225_fu_703_p1 : STD_LOGIC_VECTOR (15 downto 0);
    signal or_ln147_3_fu_767_p11 : STD_LOGIC_VECTOR (63 downto 0);
    signal or_ln147_fu_789_p2 : STD_LOGIC_VECTOR (63 downto 0);
    signal tmp_4_fu_827_p4 : STD_LOGIC_VECTOR (15 downto 0);
    signal tmp_203_fu_819_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_202_fu_811_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_201_fu_803_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_200_fu_795_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln147_8_fu_837_p7 : STD_LOGIC_VECTOR (20 downto 0);
    signal ap_NS_iter0_fsm : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_NS_iter1_fsm : STD_LOGIC_VECTOR (1 downto 0);
    signal ap_NS_iter2_fsm : STD_LOGIC_VECTOR (1 downto 0);
    signal ap_ST_iter0_fsm_state1_blk : STD_LOGIC;
    signal ap_ST_iter1_fsm_state2_blk : STD_LOGIC;
    signal ap_ST_iter2_fsm_state3_blk : STD_LOGIC;
    signal regslice_both_stream_vector_in_U_apdone_blk : STD_LOGIC;
    signal stream_vector_in_TDATA_int_regslice : STD_LOGIC_VECTOR (31 downto 0);
    signal stream_vector_in_TVALID_int_regslice : STD_LOGIC;
    signal stream_vector_in_TREADY_int_regslice : STD_LOGIC;
    signal regslice_both_stream_vector_in_U_ack_in : STD_LOGIC;
    signal ap_condition_744 : BOOLEAN;
    signal ap_condition_697 : BOOLEAN;
    signal ap_ce_reg : STD_LOGIC;

    component RBM_fifo_w21_d1024_A IS
    port (
        clk : IN STD_LOGIC;
        reset : IN STD_LOGIC;
        if_read_ce : IN STD_LOGIC;
        if_write_ce : IN STD_LOGIC;
        if_din : IN STD_LOGIC_VECTOR (20 downto 0);
        if_full_n : OUT STD_LOGIC;
        if_write : IN STD_LOGIC;
        if_dout : OUT STD_LOGIC_VECTOR (20 downto 0);
        if_empty_n : OUT STD_LOGIC;
        if_read : IN STD_LOGIC );
    end component;


    component RBM_regslice_both IS
    generic (
        DataWidth : INTEGER );
    port (
        ap_clk : IN STD_LOGIC;
        ap_rst : IN STD_LOGIC;
        data_in : IN STD_LOGIC_VECTOR (DataWidth-1 downto 0);
        vld_in : IN STD_LOGIC;
        ack_in : OUT STD_LOGIC;
        data_out : OUT STD_LOGIC_VECTOR (DataWidth-1 downto 0);
        vld_out : OUT STD_LOGIC;
        ack_out : IN STD_LOGIC;
        apdone_blk : OUT STD_LOGIC );
    end component;



begin
    buffer_0_fifo_U : component RBM_fifo_w21_d1024_A
    port map (
        clk => ap_clk,
        reset => ap_rst,
        if_read_ce => ap_const_logic_1,
        if_write_ce => ap_const_logic_1,
        if_din => p_s_fu_743_p5,
        if_full_n => buffer_0_full_n,
        if_write => buffer_0_write,
        if_dout => buffer_0_dout,
        if_empty_n => buffer_0_empty_n,
        if_read => buffer_0_read);

    buffer_1_fifo_U : component RBM_fifo_w21_d1024_A
    port map (
        clk => ap_clk,
        reset => ap_rst,
        if_read_ce => ap_const_logic_1,
        if_write_ce => ap_const_logic_1,
        if_din => p_s_fu_743_p5,
        if_full_n => buffer_1_full_n,
        if_write => buffer_1_write,
        if_dout => buffer_1_dout,
        if_empty_n => buffer_1_empty_n,
        if_read => buffer_1_read);

    regslice_both_stream_vector_in_U : component RBM_regslice_both
    generic map (
        DataWidth => 32)
    port map (
        ap_clk => ap_clk,
        ap_rst => ap_rst,
        data_in => stream_vector_in_TDATA,
        vld_in => stream_vector_in_TVALID,
        ack_in => regslice_both_stream_vector_in_U_ack_in,
        data_out => stream_vector_in_TDATA_int_regslice,
        vld_out => stream_vector_in_TVALID_int_regslice,
        ack_out => stream_vector_in_TREADY_int_regslice,
        apdone_blk => regslice_both_stream_vector_in_U_apdone_blk);





    ap_CS_iter0_fsm_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                ap_CS_iter0_fsm <= ap_ST_iter0_fsm_state1;
            else
                ap_CS_iter0_fsm <= ap_NS_iter0_fsm;
            end if;
        end if;
    end process;


    ap_CS_iter1_fsm_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                ap_CS_iter1_fsm <= ap_ST_iter1_fsm_state0;
            else
                ap_CS_iter1_fsm <= ap_NS_iter1_fsm;
            end if;
        end if;
    end process;


    ap_CS_iter2_fsm_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                ap_CS_iter2_fsm <= ap_ST_iter2_fsm_state0;
            else
                ap_CS_iter2_fsm <= ap_NS_iter2_fsm;
            end if;
        end if;
    end process;


    ap_done_reg_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                ap_done_reg <= ap_const_logic_0;
            else
                if ((ap_continue = ap_const_logic_1)) then 
                    ap_done_reg <= ap_const_logic_0;
                elsif ((not(((ap_done_reg = ap_const_logic_1) or ((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter2_fsm_state3))) then 
                    ap_done_reg <= ap_const_logic_1;
                end if; 
            end if;
        end if;
    end process;


    buffer_data_read_axis_last_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_boolean_1 = ap_condition_744)) then
                if ((buffer0_read_en_load_reg_1000_pp0_iter1_reg = ap_const_lv1_1)) then 
                    buffer_data_read_axis_last <= buffer_0_dout(3 downto 3);
                elsif (((buffer1_read_en_load_reg_1004_pp0_iter1_reg = ap_const_lv1_1) and (buffer0_read_en_load_reg_1000_pp0_iter1_reg = ap_const_lv1_0))) then 
                    buffer_data_read_axis_last <= buffer_1_dout(3 downto 3);
                end if;
            end if; 
        end if;
    end process;

    buffer_data_read_data_V_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_boolean_1 = ap_condition_744)) then
                if ((buffer0_read_en_load_reg_1000_pp0_iter1_reg = ap_const_lv1_1)) then 
                    buffer_data_read_data_V <= buffer_0_dout(20 downto 5);
                elsif (((buffer1_read_en_load_reg_1004_pp0_iter1_reg = ap_const_lv1_1) and (buffer0_read_en_load_reg_1000_pp0_iter1_reg = ap_const_lv1_0))) then 
                    buffer_data_read_data_V <= buffer_1_dout(20 downto 5);
                end if;
            end if; 
        end if;
    end process;

    buffer_data_read_first_data_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_boolean_1 = ap_condition_697)) then
                if ((buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_1)) then 
                    buffer_data_read_first_data <= icmp_ln1019_fu_465_p2;
                elsif (((buffer1_read_en_load_load_fu_411_p1 = ap_const_lv1_1) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_0))) then 
                    buffer_data_read_first_data <= icmp_ln1019_2_fu_431_p2;
                end if;
            end if; 
        end if;
    end process;

    buffer_data_read_last_data_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_boolean_1 = ap_condition_697)) then
                if ((buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_1)) then 
                    buffer_data_read_last_data <= icmp_ln1019_1_fu_477_p2;
                elsif (((buffer1_read_en_load_load_fu_411_p1 = ap_const_lv1_1) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_0))) then 
                    buffer_data_read_last_data <= icmp_ln1019_3_fu_443_p2;
                end if;
            end if; 
        end if;
    end process;

    buffer_data_read_pad_zero_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_boolean_1 = ap_condition_744)) then
                if ((buffer0_read_en_load_reg_1000_pp0_iter1_reg = ap_const_lv1_1)) then 
                    buffer_data_read_pad_zero <= buffer_0_dout(4 downto 4);
                elsif (((buffer1_read_en_load_reg_1004_pp0_iter1_reg = ap_const_lv1_1) and (buffer0_read_en_load_reg_1000_pp0_iter1_reg = ap_const_lv1_0))) then 
                    buffer_data_read_pad_zero <= buffer_1_dout(4 downto 4);
                end if;
            end if; 
        end if;
    end process;

    buffer_data_read_valid_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1) and (buffer1_read_en_load_load_fu_411_p1 = ap_const_lv1_1) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_0)) or (not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_1)))) then 
                buffer_data_read_valid <= ap_const_lv1_1;
            elsif ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1) and (buffer1_read_en_load_load_fu_411_p1 = ap_const_lv1_0) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_0))) then 
                buffer_data_read_valid <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_boolean_1 = ap_condition_697)) then
                if (((icmp_ln1039_fu_535_p2 = ap_const_lv1_1) and (icmp_ln1031_fu_497_p2 = ap_const_lv1_1))) then 
                    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status <= ap_const_lv1_0;
                elsif ((icmp_ln1031_fu_497_p2 = ap_const_lv1_0)) then 
                    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status <= ap_const_lv1_1;
                end if;
            end if; 
        end if;
    end process;

    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_1_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_boolean_1 = ap_condition_697)) then
                if (((icmp_ln1039_1_fu_591_p2 = ap_const_lv1_1) and (icmp_ln1031_1_fu_553_p2 = ap_const_lv1_1))) then 
                    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_1 <= ap_const_lv1_0;
                elsif ((icmp_ln1031_1_fu_553_p2 = ap_const_lv1_0)) then 
                    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_1 <= ap_const_lv1_1;
                end if;
            end if; 
        end if;
    end process;

    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_2_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_boolean_1 = ap_condition_697)) then
                if (((icmp_ln1039_fu_535_p2 = ap_const_lv1_1) and (icmp_ln1031_fu_497_p2 = ap_const_lv1_1))) then 
                    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_2 <= ap_const_lv1_1;
                elsif ((icmp_ln1031_fu_497_p2 = ap_const_lv1_0)) then 
                    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_2 <= ap_const_lv1_0;
                end if;
            end if; 
        end if;
    end process;

    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_3_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_boolean_1 = ap_condition_697)) then
                if (((icmp_ln1039_1_fu_591_p2 = ap_const_lv1_1) and (icmp_ln1031_1_fu_553_p2 = ap_const_lv1_1))) then 
                    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_3 <= ap_const_lv1_1;
                elsif ((icmp_ln1031_1_fu_553_p2 = ap_const_lv1_0)) then 
                    double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_3 <= ap_const_lv1_0;
                end if;
            end if; 
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then
                and_ln143_reg_968 <= and_ln143_fu_365_p2;
                buffer0_read_en <= ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_phi_fu_317_p6;
                buffer0_read_en_load_reg_1000 <= buffer0_read_en;
                buffer1_read_en <= ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_phi_fu_343_p6;
                buffer_data_read_valid_load_reg_972 <= buffer_data_read_valid;
                buffer_write_en <= or_ln214_fu_609_p2;
                buffer_write_select <= and_ln215_fu_627_p2;
                double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_4 <= add_ln223_fu_673_p2;
                double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_5 <= add_ln225_fu_707_p2;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_done_reg = ap_const_logic_1) or ((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter1_fsm_state2))) then
                buffer0_read_en_load_reg_1000_pp0_iter1_reg <= buffer0_read_en_load_reg_1000;
                buffer1_read_en_load_reg_1004_pp0_iter1_reg <= buffer1_read_en_load_reg_1004;
                buffer_data_read_first_data_load_reg_976_pp0_iter1_reg <= buffer_data_read_first_data_load_reg_976;
                buffer_data_read_last_data_load_reg_981_pp0_iter1_reg <= buffer_data_read_last_data_load_reg_981;
                buffer_data_read_valid_load_reg_972_pp0_iter1_reg <= buffer_data_read_valid_load_reg_972;
                control_V_1_load_reg_964_pp0_iter1_reg <= control_V_1_load_reg_964;
                tmp_reg_960_pp0_iter1_reg <= tmp_reg_960;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_0))) then
                buffer1_read_en_load_reg_1004 <= buffer1_read_en;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1) and (buffer_data_read_valid_load_load_fu_371_p1 = ap_const_lv1_1))) then
                buffer_data_read_first_data_load_reg_976 <= buffer_data_read_first_data;
                buffer_data_read_last_data_load_reg_981 <= buffer_data_read_last_data;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (ap_const_lv1_1 = and_ln143_fu_365_p2) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then
                buffer_write_select_load_reg_991 <= buffer_write_select;
                stream_data_v_data_V_reg_986 <= stream_data_v_data_V_fu_383_p1;
                tmp_204_reg_995 <= stream_vector_in_TDATA_int_regslice(16 downto 16);
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then
                control_V_1 <= control_ch173_dout;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then
                control_V_1_load_reg_964 <= control_V_1;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then
                tmp_reg_960 <= tmp_nbreadreq_fu_174_p3;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (tmp_s_nbreadreq_fu_196_p3 = ap_const_lv1_1) and (control_V_1 = ap_const_lv8_1) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then
                vector_in_length_V_1 <= vector_in_len_ch176_dout;
                vector_in_length_minus_1_V <= add_ln186_fu_725_p2;
            end if;
        end if;
    end process;

    ap_NS_iter0_fsm_assign_proc : process (ap_start, ap_CS_iter0_fsm, tmp_nbreadreq_fu_174_p3, ap_predicate_op29_read_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, control_ch173_empty_n, ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3, stream_vector_in_TVALID_int_regslice)
    begin
        case ap_CS_iter0_fsm is
            when ap_ST_iter0_fsm_state1 => 
                ap_NS_iter0_fsm <= ap_ST_iter0_fsm_state1;
            when others =>  
                ap_NS_iter0_fsm <= "X";
        end case;
    end process;

    ap_NS_iter1_fsm_assign_proc : process (ap_start, ap_CS_iter0_fsm_state1, ap_CS_iter1_fsm, tmp_nbreadreq_fu_174_p3, ap_predicate_op29_read_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, control_ch173_empty_n, ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3, stream_vector_in_TVALID_int_regslice)
    begin
        case ap_CS_iter1_fsm is
            when ap_ST_iter1_fsm_state2 => 
                if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)))) and not(((ap_done_reg = ap_const_logic_1) or ((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then
                    ap_NS_iter1_fsm <= ap_ST_iter1_fsm_state2;
                elsif ((not(((ap_done_reg = ap_const_logic_1) or ((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))) and ((ap_const_logic_0 = ap_CS_iter0_fsm_state1) or ((ap_const_logic_1 = ap_CS_iter0_fsm_state1) and ((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1))))))) then
                    ap_NS_iter1_fsm <= ap_ST_iter1_fsm_state0;
                else
                    ap_NS_iter1_fsm <= ap_ST_iter1_fsm_state2;
                end if;
            when ap_ST_iter1_fsm_state0 => 
                if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then
                    ap_NS_iter1_fsm <= ap_ST_iter1_fsm_state2;
                else
                    ap_NS_iter1_fsm <= ap_ST_iter1_fsm_state0;
                end if;
            when others =>  
                ap_NS_iter1_fsm <= "XX";
        end case;
    end process;

    ap_NS_iter2_fsm_assign_proc : process (ap_CS_iter2_fsm, ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3)
    begin
        case ap_CS_iter2_fsm is
            when ap_ST_iter2_fsm_state3 => 
                if ((not(((ap_done_reg = ap_const_logic_1) or ((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) and not((((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter1_fsm_state2))) then
                    ap_NS_iter2_fsm <= ap_ST_iter2_fsm_state3;
                elsif ((not(((ap_done_reg = ap_const_logic_1) or ((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) and ((ap_const_logic_0 = ap_CS_iter1_fsm_state2) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0))))))) then
                    ap_NS_iter2_fsm <= ap_ST_iter2_fsm_state0;
                else
                    ap_NS_iter2_fsm <= ap_ST_iter2_fsm_state3;
                end if;
            when ap_ST_iter2_fsm_state0 => 
                if ((not(((ap_done_reg = ap_const_logic_1) or ((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter1_fsm_state2))) then
                    ap_NS_iter2_fsm <= ap_ST_iter2_fsm_state3;
                else
                    ap_NS_iter2_fsm <= ap_ST_iter2_fsm_state0;
                end if;
            when others =>  
                ap_NS_iter2_fsm <= "XX";
        end case;
    end process;
    add_ln1496_1_fu_697_p2 <= std_logic_vector(unsigned(select_ln1496_1_fu_689_p3) + unsigned(zext_ln1627_1_fu_685_p1));
    add_ln1496_fu_663_p2 <= std_logic_vector(unsigned(select_ln1496_fu_655_p3) + unsigned(zext_ln1627_fu_651_p1));
    add_ln186_fu_725_p2 <= std_logic_vector(unsigned(vector_in_len_ch176_dout) + unsigned(ap_const_lv12_FFF));
    add_ln223_fu_673_p2 <= std_logic_vector(unsigned(double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_4) + unsigned(sext_ln223_fu_669_p1));
    add_ln225_fu_707_p2 <= std_logic_vector(unsigned(double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_5) + unsigned(sext_ln225_fu_703_p1));
    and_ln143_fu_365_p2 <= (tmp_3_nbreadreq_fu_182_p3 and buffer_write_en);
    and_ln215_fu_627_p2 <= (xor_ln215_fu_621_p2 and ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_phi_fu_330_p6);
    ap_CS_iter0_fsm_state1 <= ap_CS_iter0_fsm(0);
    ap_CS_iter1_fsm_state0 <= ap_CS_iter1_fsm(0);
    ap_CS_iter1_fsm_state2 <= ap_CS_iter1_fsm(1);
    ap_CS_iter2_fsm_state0 <= ap_CS_iter2_fsm(0);
    ap_CS_iter2_fsm_state3 <= ap_CS_iter2_fsm(1);

    ap_ST_iter0_fsm_state1_blk_assign_proc : process(ap_start, tmp_nbreadreq_fu_174_p3, ap_predicate_op29_read_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, control_ch173_empty_n, ap_done_reg, stream_vector_in_TVALID_int_regslice)
    begin
        if (((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)))) then 
            ap_ST_iter0_fsm_state1_blk <= ap_const_logic_1;
        else 
            ap_ST_iter0_fsm_state1_blk <= ap_const_logic_0;
        end if; 
    end process;


    ap_ST_iter1_fsm_state2_blk_assign_proc : process(buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2)
    begin
        if ((((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))) then 
            ap_ST_iter1_fsm_state2_blk <= ap_const_logic_1;
        else 
            ap_ST_iter1_fsm_state2_blk <= ap_const_logic_0;
        end if; 
    end process;


    ap_ST_iter2_fsm_state3_blk_assign_proc : process(buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3)
    begin
        if ((((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) then 
            ap_ST_iter2_fsm_state3_blk <= ap_const_logic_1;
        else 
            ap_ST_iter2_fsm_state3_blk <= ap_const_logic_0;
        end if; 
    end process;


    ap_block_state1_pp0_stage0_iter0_assign_proc : process(ap_start, tmp_nbreadreq_fu_174_p3, ap_predicate_op29_read_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, control_ch173_empty_n, ap_done_reg, stream_vector_in_TVALID_int_regslice)
    begin
                ap_block_state1_pp0_stage0_iter0 <= ((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)));
    end process;


    ap_block_state2_pp0_stage0_iter1_assign_proc : process(buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2)
    begin
                ap_block_state2_pp0_stage0_iter1 <= (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)));
    end process;


    ap_block_state3_pp0_stage0_iter2_assign_proc : process(buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3)
    begin
                ap_block_state3_pp0_stage0_iter2 <= (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)));
    end process;


    ap_condition_697_assign_proc : process(ap_start, ap_CS_iter0_fsm_state1, tmp_nbreadreq_fu_174_p3, ap_predicate_op29_read_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, control_ch173_empty_n, ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3, control_V_1, stream_vector_in_TVALID_int_regslice)
    begin
                ap_condition_697 <= (not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1));
    end process;


    ap_condition_744_assign_proc : process(ap_done_reg, buffer_out_full_n, tmp_reg_960_pp0_iter1_reg, control_V_1_load_reg_964_pp0_iter1_reg, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3)
    begin
                ap_condition_744 <= (not(((ap_done_reg = ap_const_logic_1) or ((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (control_V_1_load_reg_964_pp0_iter1_reg = ap_const_lv8_4) and (tmp_reg_960_pp0_iter1_reg = ap_const_lv1_0));
    end process;


    ap_done_assign_proc : process(ap_done_reg, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or ((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter2_fsm_state3))) then 
            ap_done <= ap_const_logic_1;
        else 
            ap_done <= ap_done_reg;
        end if; 
    end process;


    ap_idle_assign_proc : process(ap_start, ap_CS_iter0_fsm_state1, ap_CS_iter1_fsm_state0, ap_CS_iter2_fsm_state0)
    begin
        if (((ap_const_logic_1 = ap_CS_iter2_fsm_state0) and (ap_const_logic_1 = ap_CS_iter1_fsm_state0) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1) and (ap_start = ap_const_logic_0))) then 
            ap_idle <= ap_const_logic_1;
        else 
            ap_idle <= ap_const_logic_0;
        end if; 
    end process;


    ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_phi_fu_330_p6_assign_proc : process(tmp_nbreadreq_fu_174_p3, control_V_1, double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_3, ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_reg_327, icmp_ln1031_1_fu_553_p2, icmp_ln1039_1_fu_591_p2)
    begin
        if (((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0))) then
            if (((icmp_ln1039_1_fu_591_p2 = ap_const_lv1_0) and (icmp_ln1031_1_fu_553_p2 = ap_const_lv1_1))) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_phi_fu_330_p6 <= double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_3;
            elsif (((icmp_ln1039_1_fu_591_p2 = ap_const_lv1_1) and (icmp_ln1031_1_fu_553_p2 = ap_const_lv1_1))) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_phi_fu_330_p6 <= ap_const_lv1_1;
            elsif ((icmp_ln1031_1_fu_553_p2 = ap_const_lv1_0)) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_phi_fu_330_p6 <= ap_const_lv1_0;
            else 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_phi_fu_330_p6 <= ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_reg_327;
            end if;
        else 
            ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_phi_fu_330_p6 <= ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_reg_327;
        end if; 
    end process;


    ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_phi_fu_304_p6_assign_proc : process(tmp_nbreadreq_fu_174_p3, control_V_1, double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_2, ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_reg_301, icmp_ln1031_fu_497_p2, icmp_ln1039_fu_535_p2)
    begin
        if (((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0))) then
            if (((icmp_ln1039_fu_535_p2 = ap_const_lv1_0) and (icmp_ln1031_fu_497_p2 = ap_const_lv1_1))) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_phi_fu_304_p6 <= double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_2;
            elsif (((icmp_ln1039_fu_535_p2 = ap_const_lv1_1) and (icmp_ln1031_fu_497_p2 = ap_const_lv1_1))) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_phi_fu_304_p6 <= ap_const_lv1_1;
            elsif ((icmp_ln1031_fu_497_p2 = ap_const_lv1_0)) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_phi_fu_304_p6 <= ap_const_lv1_0;
            else 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_phi_fu_304_p6 <= ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_reg_301;
            end if;
        else 
            ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_phi_fu_304_p6 <= ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_reg_301;
        end if; 
    end process;


    ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_phi_fu_343_p6_assign_proc : process(tmp_nbreadreq_fu_174_p3, control_V_1, double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_1, icmp_ln1031_1_fu_553_p2, icmp_ln1039_1_fu_591_p2, ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_reg_340)
    begin
        if (((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0))) then
            if (((icmp_ln1039_1_fu_591_p2 = ap_const_lv1_0) and (icmp_ln1031_1_fu_553_p2 = ap_const_lv1_1))) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_phi_fu_343_p6 <= double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_1;
            elsif (((icmp_ln1039_1_fu_591_p2 = ap_const_lv1_1) and (icmp_ln1031_1_fu_553_p2 = ap_const_lv1_1))) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_phi_fu_343_p6 <= ap_const_lv1_0;
            elsif ((icmp_ln1031_1_fu_553_p2 = ap_const_lv1_0)) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_phi_fu_343_p6 <= ap_const_lv1_1;
            else 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_phi_fu_343_p6 <= ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_reg_340;
            end if;
        else 
            ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_phi_fu_343_p6 <= ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_reg_340;
        end if; 
    end process;


    ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_phi_fu_317_p6_assign_proc : process(tmp_nbreadreq_fu_174_p3, control_V_1, double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status, icmp_ln1031_fu_497_p2, icmp_ln1039_fu_535_p2, ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_reg_314)
    begin
        if (((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0))) then
            if (((icmp_ln1039_fu_535_p2 = ap_const_lv1_0) and (icmp_ln1031_fu_497_p2 = ap_const_lv1_1))) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_phi_fu_317_p6 <= double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status;
            elsif (((icmp_ln1039_fu_535_p2 = ap_const_lv1_1) and (icmp_ln1031_fu_497_p2 = ap_const_lv1_1))) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_phi_fu_317_p6 <= ap_const_lv1_0;
            elsif ((icmp_ln1031_fu_497_p2 = ap_const_lv1_0)) then 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_phi_fu_317_p6 <= ap_const_lv1_1;
            else 
                ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_phi_fu_317_p6 <= ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_reg_314;
            end if;
        else 
            ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_phi_fu_317_p6 <= ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_reg_314;
        end if; 
    end process;


    ap_phi_mux_i_op_assign_1_phi_fu_290_p6_assign_proc : process(tmp_nbreadreq_fu_174_p3, control_V_1, buffer0_read_en_load_load_fu_399_p1, buffer1_read_en_load_load_fu_411_p1, ap_phi_reg_pp0_iter0_i_op_assign_1_reg_287)
    begin
        if ((((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer1_read_en_load_load_fu_411_p1 = ap_const_lv1_1) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_0)) or ((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer1_read_en_load_load_fu_411_p1 = ap_const_lv1_0) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_0)))) then 
            ap_phi_mux_i_op_assign_1_phi_fu_290_p6 <= ap_const_lv1_0;
        elsif (((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_1))) then 
            ap_phi_mux_i_op_assign_1_phi_fu_290_p6 <= ap_const_lv1_1;
        else 
            ap_phi_mux_i_op_assign_1_phi_fu_290_p6 <= ap_phi_reg_pp0_iter0_i_op_assign_1_reg_287;
        end if; 
    end process;


    ap_phi_mux_i_op_assign_2_phi_fu_248_p6_assign_proc : process(tmp_nbreadreq_fu_174_p3, and_ln143_fu_365_p2, control_V_1, buffer_write_select_load_load_fu_387_p1, ap_phi_reg_pp0_iter0_i_op_assign_2_reg_245)
    begin
        if ((((ap_const_lv1_1 = and_ln143_fu_365_p2) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer_write_select_load_load_fu_387_p1 = ap_const_lv1_0)) or ((control_V_1 = ap_const_lv8_4) and (ap_const_lv1_0 = and_ln143_fu_365_p2) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0)))) then 
            ap_phi_mux_i_op_assign_2_phi_fu_248_p6 <= ap_const_lv1_0;
        elsif (((ap_const_lv1_1 = and_ln143_fu_365_p2) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer_write_select_load_load_fu_387_p1 = ap_const_lv1_1))) then 
            ap_phi_mux_i_op_assign_2_phi_fu_248_p6 <= ap_const_lv1_1;
        else 
            ap_phi_mux_i_op_assign_2_phi_fu_248_p6 <= ap_phi_reg_pp0_iter0_i_op_assign_2_reg_245;
        end if; 
    end process;


    ap_phi_mux_i_op_assign_3_phi_fu_276_p6_assign_proc : process(tmp_nbreadreq_fu_174_p3, control_V_1, buffer0_read_en_load_load_fu_399_p1, buffer1_read_en_load_load_fu_411_p1, ap_phi_reg_pp0_iter0_i_op_assign_3_reg_273)
    begin
        if (((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer1_read_en_load_load_fu_411_p1 = ap_const_lv1_1) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_0))) then 
            ap_phi_mux_i_op_assign_3_phi_fu_276_p6 <= ap_const_lv1_1;
        elsif ((((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer1_read_en_load_load_fu_411_p1 = ap_const_lv1_0) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_0)) or ((control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer0_read_en_load_load_fu_399_p1 = ap_const_lv1_1)))) then 
            ap_phi_mux_i_op_assign_3_phi_fu_276_p6 <= ap_const_lv1_0;
        else 
            ap_phi_mux_i_op_assign_3_phi_fu_276_p6 <= ap_phi_reg_pp0_iter0_i_op_assign_3_reg_273;
        end if; 
    end process;


    ap_phi_mux_i_op_assign_phi_fu_262_p6_assign_proc : process(tmp_nbreadreq_fu_174_p3, and_ln143_fu_365_p2, control_V_1, buffer_write_select_load_load_fu_387_p1, ap_phi_reg_pp0_iter0_i_op_assign_reg_259)
    begin
        if (((ap_const_lv1_1 = and_ln143_fu_365_p2) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer_write_select_load_load_fu_387_p1 = ap_const_lv1_0))) then 
            ap_phi_mux_i_op_assign_phi_fu_262_p6 <= ap_const_lv1_1;
        elsif ((((ap_const_lv1_1 = and_ln143_fu_365_p2) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0) and (buffer_write_select_load_load_fu_387_p1 = ap_const_lv1_1)) or ((control_V_1 = ap_const_lv8_4) and (ap_const_lv1_0 = and_ln143_fu_365_p2) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0)))) then 
            ap_phi_mux_i_op_assign_phi_fu_262_p6 <= ap_const_lv1_0;
        else 
            ap_phi_mux_i_op_assign_phi_fu_262_p6 <= ap_phi_reg_pp0_iter0_i_op_assign_reg_259;
        end if; 
    end process;

    ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_reg_327 <= "X";
    ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_reg_301 <= "X";
    ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_4_loc_0_reg_340 <= "X";
    ap_phi_reg_pp0_iter0_double_buffer_stream_stream_stream_stream_buffer_status_5_loc_reg_314 <= "X";
    ap_phi_reg_pp0_iter0_i_op_assign_1_reg_287 <= "X";
    ap_phi_reg_pp0_iter0_i_op_assign_2_reg_245 <= "X";
    ap_phi_reg_pp0_iter0_i_op_assign_3_reg_273 <= "X";
    ap_phi_reg_pp0_iter0_i_op_assign_reg_259 <= "X";

    ap_predicate_op116_read_state1_assign_proc : process(tmp_nbreadreq_fu_174_p3, tmp_s_nbreadreq_fu_196_p3, control_V_1)
    begin
                ap_predicate_op116_read_state1 <= ((tmp_s_nbreadreq_fu_196_p3 = ap_const_lv1_1) and (control_V_1 = ap_const_lv8_1) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0));
    end process;


    ap_predicate_op128_write_state2_assign_proc : process(tmp_reg_960, control_V_1_load_reg_964, and_ln143_reg_968, buffer_write_select_load_reg_991)
    begin
                ap_predicate_op128_write_state2 <= ((control_V_1_load_reg_964 = ap_const_lv8_4) and (tmp_reg_960 = ap_const_lv1_0) and (ap_const_lv1_1 = and_ln143_reg_968) and (buffer_write_select_load_reg_991 = ap_const_lv1_0));
    end process;


    ap_predicate_op129_write_state2_assign_proc : process(tmp_reg_960, control_V_1_load_reg_964, and_ln143_reg_968, buffer_write_select_load_reg_991)
    begin
                ap_predicate_op129_write_state2 <= ((control_V_1_load_reg_964 = ap_const_lv8_4) and (tmp_reg_960 = ap_const_lv1_0) and (ap_const_lv1_1 = and_ln143_reg_968) and (buffer_write_select_load_reg_991 = ap_const_lv1_1));
    end process;


    ap_predicate_op142_write_state3_assign_proc : process(tmp_reg_960_pp0_iter1_reg, control_V_1_load_reg_964_pp0_iter1_reg, buffer_data_read_valid_load_reg_972_pp0_iter1_reg)
    begin
                ap_predicate_op142_write_state3 <= ((buffer_data_read_valid_load_reg_972_pp0_iter1_reg = ap_const_lv1_1) and (control_V_1_load_reg_964_pp0_iter1_reg = ap_const_lv8_4) and (tmp_reg_960_pp0_iter1_reg = ap_const_lv1_0));
    end process;


    ap_predicate_op144_read_state3_assign_proc : process(tmp_reg_960_pp0_iter1_reg, control_V_1_load_reg_964_pp0_iter1_reg, buffer0_read_en_load_reg_1000_pp0_iter1_reg, buffer1_read_en_load_reg_1004_pp0_iter1_reg)
    begin
                ap_predicate_op144_read_state3 <= ((buffer1_read_en_load_reg_1004_pp0_iter1_reg = ap_const_lv1_1) and (buffer0_read_en_load_reg_1000_pp0_iter1_reg = ap_const_lv1_0) and (control_V_1_load_reg_964_pp0_iter1_reg = ap_const_lv8_4) and (tmp_reg_960_pp0_iter1_reg = ap_const_lv1_0));
    end process;


    ap_predicate_op151_read_state3_assign_proc : process(tmp_reg_960_pp0_iter1_reg, control_V_1_load_reg_964_pp0_iter1_reg, buffer0_read_en_load_reg_1000_pp0_iter1_reg)
    begin
                ap_predicate_op151_read_state3 <= ((buffer0_read_en_load_reg_1000_pp0_iter1_reg = ap_const_lv1_1) and (control_V_1_load_reg_964_pp0_iter1_reg = ap_const_lv8_4) and (tmp_reg_960_pp0_iter1_reg = ap_const_lv1_0));
    end process;


    ap_predicate_op29_read_state1_assign_proc : process(tmp_nbreadreq_fu_174_p3, and_ln143_fu_365_p2, control_V_1)
    begin
                ap_predicate_op29_read_state1 <= ((ap_const_lv1_1 = and_ln143_fu_365_p2) and (control_V_1 = ap_const_lv8_4) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_0));
    end process;


    ap_ready_assign_proc : process(ap_start, ap_CS_iter0_fsm_state1, tmp_nbreadreq_fu_174_p3, ap_predicate_op29_read_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, control_ch173_empty_n, ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3, stream_vector_in_TVALID_int_regslice)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then 
            ap_ready <= ap_const_logic_1;
        else 
            ap_ready <= ap_const_logic_0;
        end if; 
    end process;

    buffer0_read_en_load_load_fu_399_p1 <= buffer0_read_en;
    buffer1_read_en_load_load_fu_411_p1 <= buffer1_read_en;

    buffer_0_read_assign_proc : process(ap_done_reg, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or ((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (ap_predicate_op151_read_state3 = ap_const_boolean_1))) then 
            buffer_0_read <= ap_const_logic_1;
        else 
            buffer_0_read <= ap_const_logic_0;
        end if; 
    end process;


    buffer_0_write_assign_proc : process(ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or ((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (ap_predicate_op128_write_state2 = ap_const_boolean_1))) then 
            buffer_0_write <= ap_const_logic_1;
        else 
            buffer_0_write <= ap_const_logic_0;
        end if; 
    end process;


    buffer_1_read_assign_proc : process(ap_done_reg, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or ((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (ap_predicate_op144_read_state3 = ap_const_boolean_1))) then 
            buffer_1_read <= ap_const_logic_1;
        else 
            buffer_1_read <= ap_const_logic_0;
        end if; 
    end process;


    buffer_1_write_assign_proc : process(ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or ((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (ap_predicate_op129_write_state2 = ap_const_boolean_1))) then 
            buffer_1_write <= ap_const_logic_1;
        else 
            buffer_1_write <= ap_const_logic_0;
        end if; 
    end process;

    buffer_data_read_valid_load_load_fu_371_p1 <= buffer_data_read_valid;

    buffer_out_blk_n_assign_proc : process(buffer_out_full_n, ap_predicate_op142_write_state3, ap_CS_iter2_fsm_state3)
    begin
        if (((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (ap_predicate_op142_write_state3 = ap_const_boolean_1))) then 
            buffer_out_blk_n <= buffer_out_full_n;
        else 
            buffer_out_blk_n <= ap_const_logic_1;
        end if; 
    end process;

    buffer_out_din <= (or_ln147_8_fu_837_p7 or ap_const_lv21_1);

    buffer_out_write_assign_proc : process(ap_done_reg, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or ((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) and (ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (ap_predicate_op142_write_state3 = ap_const_boolean_1))) then 
            buffer_out_write <= ap_const_logic_1;
        else 
            buffer_out_write <= ap_const_logic_0;
        end if; 
    end process;

    buffer_write_select_load_load_fu_387_p1 <= buffer_write_select;

    control_ch173_blk_n_assign_proc : process(ap_start, ap_CS_iter0_fsm_state1, tmp_nbreadreq_fu_174_p3, control_ch173_empty_n, ap_done_reg)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0))) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1) and (ap_start = ap_const_logic_1))) then 
            control_ch173_blk_n <= control_ch173_empty_n;
        else 
            control_ch173_blk_n <= ap_const_logic_1;
        end if; 
    end process;


    control_ch173_read_assign_proc : process(ap_start, ap_CS_iter0_fsm_state1, tmp_nbreadreq_fu_174_p3, ap_predicate_op29_read_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, control_ch173_empty_n, ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3, stream_vector_in_TVALID_int_regslice)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then 
            control_ch173_read <= ap_const_logic_1;
        else 
            control_ch173_read <= ap_const_logic_0;
        end if; 
    end process;

    icmp_ln1019_1_fu_477_p2 <= "1" when (double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_4 = ap_const_lv16_1) else "0";
    icmp_ln1019_2_fu_431_p2 <= "1" when (double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_5 = zext_ln1019_1_fu_427_p1) else "0";
    icmp_ln1019_3_fu_443_p2 <= "1" when (double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_5 = ap_const_lv16_1) else "0";
    icmp_ln1019_fu_465_p2 <= "1" when (double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_4 = zext_ln1019_fu_461_p1) else "0";
    icmp_ln1031_1_fu_553_p2 <= "1" when (signed(double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_5) < signed(zext_ln1031_fu_493_p1)) else "0";
    icmp_ln1031_fu_497_p2 <= "1" when (signed(double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_4) < signed(zext_ln1031_fu_493_p1)) else "0";
    icmp_ln1039_1_fu_591_p2 <= "1" when (signed(tmp_210_fu_581_p4) < signed(ap_const_lv15_1)) else "0";
    icmp_ln1039_fu_535_p2 <= "1" when (signed(tmp_209_fu_525_p4) < signed(ap_const_lv15_1)) else "0";
    or_ln147_3_fu_767_p11 <= (((((((((buffer_data_read_data_V & ap_const_lv15_0) & buffer_data_read_pad_zero) & ap_const_lv7_0) & buffer_data_read_axis_last) & ap_const_lv7_0) & buffer_data_read_last_data_load_reg_981_pp0_iter1_reg) & ap_const_lv7_0) & buffer_data_read_first_data_load_reg_976_pp0_iter1_reg) & ap_const_lv8_0);
    or_ln147_8_fu_837_p7 <= (((((tmp_4_fu_827_p4 & tmp_203_fu_819_p3) & tmp_202_fu_811_p3) & tmp_201_fu_803_p3) & tmp_200_fu_795_p3) & ap_const_lv1_0);
    or_ln147_fu_789_p2 <= (or_ln147_3_fu_767_p11 or ap_const_lv64_1);
    or_ln214_fu_609_p2 <= (ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_phi_fu_304_p6 or ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_2_loc_0_phi_fu_330_p6);
    p_s_fu_743_p5 <= (((stream_data_v_data_V_reg_986 & ap_const_lv1_0) & tmp_204_reg_995) & ap_const_lv3_0);
    select_ln1496_1_fu_689_p3 <= 
        ap_const_lv2_3 when (ap_phi_mux_i_op_assign_3_phi_fu_276_p6(0) = '1') else 
        ap_const_lv2_0;
    select_ln1496_fu_655_p3 <= 
        ap_const_lv2_3 when (ap_phi_mux_i_op_assign_1_phi_fu_290_p6(0) = '1') else 
        ap_const_lv2_0;
        sext_ln223_fu_669_p1 <= std_logic_vector(IEEE.numeric_std.resize(signed(add_ln1496_fu_663_p2),16));

        sext_ln225_fu_703_p1 <= std_logic_vector(IEEE.numeric_std.resize(signed(add_ln1496_1_fu_697_p2),16));

    stream_data_v_data_V_fu_383_p1 <= stream_vector_in_TDATA_int_regslice(16 - 1 downto 0);

    stream_vector_in_TDATA_blk_n_assign_proc : process(ap_start, ap_CS_iter0_fsm_state1, ap_predicate_op29_read_state1, ap_done_reg, stream_vector_in_TVALID_int_regslice)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0))) and (ap_predicate_op29_read_state1 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1) and (ap_start = ap_const_logic_1))) then 
            stream_vector_in_TDATA_blk_n <= stream_vector_in_TVALID_int_regslice;
        else 
            stream_vector_in_TDATA_blk_n <= ap_const_logic_1;
        end if; 
    end process;

    stream_vector_in_TREADY <= regslice_both_stream_vector_in_U_ack_in;

    stream_vector_in_TREADY_int_regslice_assign_proc : process(ap_start, ap_CS_iter0_fsm_state1, tmp_nbreadreq_fu_174_p3, ap_predicate_op29_read_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, control_ch173_empty_n, ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3, stream_vector_in_TVALID_int_regslice)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (ap_predicate_op29_read_state1 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then 
            stream_vector_in_TREADY_int_regslice <= ap_const_logic_1;
        else 
            stream_vector_in_TREADY_int_regslice <= ap_const_logic_0;
        end if; 
    end process;

    tmp_200_fu_795_p3 <= or_ln147_fu_789_p2(8 downto 8);
    tmp_201_fu_803_p3 <= or_ln147_fu_789_p2(16 downto 16);
    tmp_202_fu_811_p3 <= or_ln147_fu_789_p2(24 downto 24);
    tmp_203_fu_819_p3 <= or_ln147_fu_789_p2(32 downto 32);
    tmp_209_fu_525_p4 <= double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_4(15 downto 1);
    tmp_210_fu_581_p4 <= double_buffer_stream_stream_stream_stream_buffer_data_t_0_buffer_status_5(15 downto 1);
    tmp_3_nbreadreq_fu_182_p3 <= (0=>(stream_vector_in_TVALID_int_regslice), others=>'-');
    tmp_4_fu_827_p4 <= or_ln147_fu_789_p2(63 downto 48);
    tmp_nbreadreq_fu_174_p3 <= (0=>(control_ch173_empty_n), others=>'-');
    tmp_s_nbreadreq_fu_196_p3 <= (0=>(vector_in_len_ch176_empty_n), others=>'-');

    vector_in_len_ch176_blk_n_assign_proc : process(ap_start, ap_CS_iter0_fsm_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, ap_done_reg)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0))) and (ap_predicate_op116_read_state1 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1) and (ap_start = ap_const_logic_1))) then 
            vector_in_len_ch176_blk_n <= vector_in_len_ch176_empty_n;
        else 
            vector_in_len_ch176_blk_n <= ap_const_logic_1;
        end if; 
    end process;


    vector_in_len_ch176_read_assign_proc : process(ap_start, ap_CS_iter0_fsm_state1, tmp_nbreadreq_fu_174_p3, ap_predicate_op29_read_state1, vector_in_len_ch176_empty_n, ap_predicate_op116_read_state1, control_ch173_empty_n, ap_done_reg, buffer_0_full_n, ap_predicate_op128_write_state2, buffer_1_full_n, ap_predicate_op129_write_state2, ap_CS_iter1_fsm_state2, buffer_out_full_n, ap_predicate_op142_write_state3, buffer_1_empty_n, ap_predicate_op144_read_state3, buffer_0_empty_n, ap_predicate_op151_read_state3, ap_CS_iter2_fsm_state3, stream_vector_in_TVALID_int_regslice)
    begin
        if ((not(((ap_done_reg = ap_const_logic_1) or (ap_start = ap_const_logic_0) or ((control_ch173_empty_n = ap_const_logic_0) and (tmp_nbreadreq_fu_174_p3 = ap_const_lv1_1)) or ((ap_predicate_op116_read_state1 = ap_const_boolean_1) and (vector_in_len_ch176_empty_n = ap_const_logic_0)) or ((stream_vector_in_TVALID_int_regslice = ap_const_logic_0) and (ap_predicate_op29_read_state1 = ap_const_boolean_1)) or ((ap_const_logic_1 = ap_CS_iter2_fsm_state3) and (((ap_predicate_op151_read_state3 = ap_const_boolean_1) and (buffer_0_empty_n = ap_const_logic_0)) or ((ap_predicate_op144_read_state3 = ap_const_boolean_1) and (buffer_1_empty_n = ap_const_logic_0)) or ((ap_predicate_op142_write_state3 = ap_const_boolean_1) and (buffer_out_full_n = ap_const_logic_0)))) or ((ap_const_logic_1 = ap_CS_iter1_fsm_state2) and (((buffer_0_full_n = ap_const_logic_0) and (ap_predicate_op128_write_state2 = ap_const_boolean_1)) or ((ap_predicate_op129_write_state2 = ap_const_boolean_1) and (buffer_1_full_n = ap_const_logic_0)))))) and (ap_predicate_op116_read_state1 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_iter0_fsm_state1))) then 
            vector_in_len_ch176_read <= ap_const_logic_1;
        else 
            vector_in_len_ch176_read <= ap_const_logic_0;
        end if; 
    end process;

    xor_ln215_fu_621_p2 <= (ap_phi_mux_double_buffer_stream_stream_stream_stream_buffer_status_3_loc_phi_fu_304_p6 xor ap_const_lv1_1);
    zext_ln1019_1_fu_427_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(vector_in_length_V_1),16));
    zext_ln1019_fu_461_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(vector_in_length_V_1),16));
    zext_ln1031_fu_493_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(vector_in_length_minus_1_V),16));
    zext_ln1627_1_fu_685_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(ap_phi_mux_i_op_assign_2_phi_fu_248_p6),2));
    zext_ln1627_fu_651_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(ap_phi_mux_i_op_assign_phi_fu_262_p6),2));
end behav;
